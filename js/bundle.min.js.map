{"version":3,"sources":["bundle.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","onKeyPress","cancelReadText","FileDragHover","stopPropagation","preventDefault","app","dropTarget","className","type","FileSelectHandler","error","innerHTML","output","files","target","dataTransfer","console","log","substring","name","loadTextFromFile","file","fr","FileReader","onload","textToRead","value","result","readAsText","readerOverlay","style","display","clearInterval","interval","readerText","innerText","fileselect","document","getElementById","wpmInput","textArray","wpm","window","File","FileList","addEventListener"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YA4BA,SAASK,GAAWnB,GAClBoB,IAUF,QAASC,GAAcrB,GACrBA,EAAEsB,kBACFtB,EAAEuB,iBACFC,EAAIC,WAAWC,UAAsB,YAAV1B,EAAE2B,KAAqB,QAAU,GAI9D,QAASC,GAAkB5B,GAGzBqB,EAAcrB,GAGdwB,EAAIK,MAAMC,UAAY,GACtBN,EAAIO,OAAOD,UAAY,EAMvB,KAAK,GAAWpB,GAHZsB,EAAQhC,EAAEiC,OAAOD,OAAShC,EAAEkC,aAAaF,MAGpCvB,EAAI,EAAMC,EAAIsB,EAAMvB,GAAIA,IAC/B0B,QAAQC,IAAI1B,GACE,IAAVA,EAAEiB,MAAc,IAAgC,QAA1BjB,EAAEiB,KAAKU,UAAU,EAAG,GAC5Cb,EAAIK,MAAMC,WAAa,0BAA4BpB,EAAE4B,KAAO,KAAO5B,EAAEiB,KAAO,QAE5EY,EAAiB7B,GAKvB,QAAS6B,GAAiBC,GACxB,GAAIC,GAAK,GAAIC,WACbD,GAAGE,OAAS,SAAU3C,GACpBwB,EAAIoB,WAAWC,MAAQ7C,EAAEiC,OAAOa,QAElCL,EAAGM,WAAWP,GAsBhB,QAASpB,KACPI,EAAIwB,cAAcC,MAAMC,QAAU,OAClCC,cAAc3B,EAAI4B,UAClB5B,EAAI6B,WAAWC,UAAY,GAjG7B,GAAI9B,GAAMA,KACVA,GAAI+B,WAAaC,SAASC,eAAe,qBACzCjC,EAAIK,MAAQ2B,SAASC,eAAe,SACpCjC,EAAIO,OAASyB,SAASC,eAAe,UACrCjC,EAAIC,WAAa+B,SAASC,eAAe,YACzCjC,EAAIoB,WAAaY,SAASC,eAAe,aACzCjC,EAAIwB,cAAgBQ,SAASC,eAAe,kBAC5CjC,EAAI6B,WAAaG,SAASC,eAAe,eACzCjC,EAAIkC,SAAWF,SAASC,eAAe,aAEvCjC,EAAImC,aACJnC,EAAI4B,SAAW,EACf5B,EAAIoC,IAAM,IAENC,OAAOC,MAAQD,OAAOE,UAAYF,OAAOnB,aAE3ClB,EAAI+B,WAAWS,iBAAiB,SAAUpC,GAAmB,GAG7D4B,SAASQ,iBAAiB,WAAY3C,GAAe,GACrDmC,SAASQ,iBAAiB,YAAa3C,GAAe,GACtDmC,SAASQ,iBAAiB,OAAQpC,GAAmB,GACrD4B,SAASQ,iBAAiB,WAAY7C,GAAY,GAClDqC,SAASC,eAAe,YAAYR,MAAMC,QAAU,mBA6E3C","file":"bundle.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar app = app || {};\napp.fileselect = document.getElementById(\"file-select-input\");\napp.error = document.getElementById(\"error\");\napp.output = document.getElementById(\"output\");\napp.dropTarget = document.getElementById(\"filedrag\");\napp.textToRead = document.getElementById(\"inputtext\");\napp.readerOverlay = document.getElementById(\"reader-overlay\");\napp.readerText = document.getElementById(\"reader-text\");\napp.wpmInput = document.getElementById(\"wpm-input\");\n\napp.textArray = [];\napp.interval = 0;\napp.wpm = 300;\n\nif (window.File && window.FileList && window.FileReader) {\n  // file select\n  app.fileselect.addEventListener(\"change\", FileSelectHandler, false);\n\n  // file drop\n  document.addEventListener(\"dragover\", FileDragHover, false);\n  document.addEventListener(\"dragleave\", FileDragHover, false);\n  document.addEventListener(\"drop\", FileSelectHandler, false);\n  document.addEventListener(\"keypress\", onKeyPress, false);\n  document.getElementById(\"filedrag\").style.display = \"block\";\n}\n\nfunction onKeyPress(e) {\n  cancelReadText();\n}\n\nfunction updateWPM() {\n  if (!isNaN(app.wpmInput.value) && app.wpmInput.value > 0) {\n    app.wpm = app.wpmInput.value * 1;\n  }\n}\n\n// file drag hover\nfunction FileDragHover(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  app.dropTarget.className = e.type == \"dragover\" ? \"hover\" : \"\";\n}\n\n// file selection\nfunction FileSelectHandler(e) {\n\n  // cancel event and hover styling\n  FileDragHover(e);\n\n  //clear current results\n  app.error.innerHTML = \"\";\n  app.output.innerHTML = \"\";\n\n  // fetch FileList object\n  var files = e.target.files || e.dataTransfer.files;\n\n  // process all File objects\n  for (var i = 0, f; f = files[i]; i++) {\n    console.log(f);\n    if (f.type != \"\" != \"\" && f.type.substring(0, 4) != \"text\") {\n      app.error.innerHTML += \"Unsupported file type: \" + f.name + \" (\" + f.type + \")<br>\";\n    } else {\n      loadTextFromFile(f);\n    }\n  }\n}\n\nfunction loadTextFromFile(file) {\n  var fr = new FileReader();\n  fr.onload = function (e) {\n    app.textToRead.value = e.target.result;\n  };\n  fr.readAsText(file);\n}\n\nfunction readText() {\n  app.textArray = app.textToRead.value.trim().split(\" \");\n  app.textArray.push(\"\"); // add a pause at the end before clearing the display\n  if (app.interval) {\n    clearInterval(app.interval);\n  }\n  app.readerOverlay.style.display = \"table\";\n  //TODO: configurable interval length\n  app.interval = setInterval('incrementReadText()', 60 / app.wpm * 1000);\n}\n\nfunction incrementReadText() {\n  if (app.textArray.length <= 0) {\n    cancelReadText();\n    return;\n  }\n  app.readerText.innerText = app.textArray.shift();\n}\n\nfunction cancelReadText() {\n  app.readerOverlay.style.display = \"none\";\n  clearInterval(app.interval);\n  app.readerText.innerText = \"\";\n}\n\n},{}]},{},[1]);\n"]}